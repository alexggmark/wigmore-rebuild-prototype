<style>
/* HERO PAGINATION - outside @layer to override Swiper */
.hero-pagination.swiper-pagination-bullets .swiper-pagination-bullet {
  width: 32px;
  border-radius: 100px;
  height: 3px;
  background: rgb(255 255 255 / 0.5);
  opacity: 1;
}

@media (min-width: 768px) {
  .hero-pagination.swiper-pagination-bullets .swiper-pagination-bullet {
    width: 48px;
  }
}

.hero-pagination.swiper-pagination-bullets .swiper-pagination-bullet-active {
  background: var(--color-brand-primary-700);
}
</style>

<div
  x-data="{
    slides: [
      {
        bgDesktop: '/assets/banners/banner-image.png',
        alignDesktop: 'center',
        alignMobile: 'center',
        overlayOpacity: 0.5,
        bannerLink: '',
        badge: 'Welcome to Wigmore Medical',
        title: 'The UK\'s Leading Aesthetic Distributor for Medical Professionals',
        text: 'Discover our range of premium treatments designed to enhance your natural beauty with the latest techniques and technologies.',
        cta1: { label: 'Join Now', href: '#', style: 'primary' },
        cta2: { label: 'Sign in', href: '#', style: 'transparent' }
      },
      {
        bgDesktop: '/assets/banners/banner-image-product.jpg',
        alignDesktop: 'right',
        alignMobile: 'bottom',
        overlayOpacity: 0,
        bannerLink: '/offers'
      },
      {
        bgDesktop: '/assets/banners/banner-skrybe.jpg',
        bgMobile: '/assets/banners/banner-image.png',
        alignDesktop: 'left',
        alignMobile: 'bottom',
        overlayOpacity: 0,
        bannerLink: '',
        title: 'Explore Our Latest Products, Explore Our Latest Products',
        text: 'Shop the newest additions to our collection of premium aesthetic treatments.',
        cta1: { label: 'Shop Now', href: '#', style: 'primary' },
        cta2: null
      },
      {
        bgDesktop: '/assets/banners/banner-image.png',
        bgMobile: '/assets/banners/banner-image.png',
        alignDesktop: 'right',
        alignMobile: 'center',
        overlayOpacity: 0.5,
        bannerLink: '',
        badge: 'Free Delivery',
        title: 'Free UK Delivery on Orders Over Â£100',
        text: 'Enjoy complimentary shipping on qualifying orders.',
        cta1: { label: 'Learn More', href: '#', style: 'primary' },
        cta2: null
      }
    ],
    getContainerClasses(slide) {
      const verticalMobile = {
        'top': 'justify-start pt-16',
        'center': 'justify-center',
        'bottom': 'justify-end pb-20'
      }[slide.alignMobile] || 'justify-center';

      const horizontalDesktop = {
        'left': 'md:justify-start',
        'center': 'md:justify-center',
        'right': 'md:justify-end'
      }[slide.alignDesktop] || 'md:justify-center';

      return `${verticalMobile} ${horizontalDesktop}`;
    },
    getContentClasses(slide) {
      const textAlign = {
        'left': 'max-w-2xl md:text-left md:items-start',
        'center': 'max-w-4xl md:text-center md:items-center',
        'right': 'max-w-2xl md:text-right md:items-end'
      }[slide.alignDesktop] || 'md:text-center md:items-center';

      return `text-center items-center ${textAlign}`;
    }
  }"
  x-init="$nextTick(() => {
    new Swiper($refs.swiper, {
      slidesPerView: 1,
      loop: true,
      pagination: { el: $refs.pagination, clickable: true },
      navigation: { nextEl: $refs.next, prevEl: $refs.prev }
    })
  })"
  class="relative card-container p-0 overflow-hidden"
>
  <div x-ref="swiper" class="swiper w-full min-h-140 max-h-200 aspect-5/8 md:h-auto md:aspect-19/9 md:min-h-135 md:max-h-none">
    <div class="swiper-wrapper">
      <template x-for="(slide, index) in slides" :key="index">
        <div class="swiper-slide">
          <!-- Optional full-slide link wrapper -->
          <template x-if="slide.bannerLink">
            <a :href="slide.bannerLink" class="absolute inset-0 z-15"></a>
          </template>

          <div class="relative h-full flex items-center">
            <!-- Desktop background image -->
            <img
              :src="slide.bgDesktop"
              alt=""
              fetchpriority="high"
              decoding="async"
              class="absolute inset-0 w-full h-full object-cover hidden md:block"
            >
            <!-- Mobile background image -->
            <img
              :src="slide.bgMobile || slide.bgDesktop"
              alt=""
              fetchpriority="high"
              decoding="async"
              class="absolute inset-0 w-full h-full object-cover md:hidden"
            >

            <!-- Overlay with dynamic opacity -->
            <div
              class="absolute inset-0 bg-black"
              :style="`opacity: ${slide.overlayOpacity}`"
            ></div>

            <!-- Content container -->
            <div
              class="relative z-10 container mx-auto md:px-8 px-4 flex flex-col md:flex-row md:items-center h-full"
              :class="getContainerClasses(slide)"
            >
              <div
                class="flex flex-col gap-4"
                :class="getContentClasses(slide)"
              >
                <!-- Badge - only show if content exists -->
                <template x-if="slide.badge">
                  <div class="badge-transparent">
                    <span class="relative flex size-2 -ml-1">
                      <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-brand-primary-700 opacity-75"></span>
                      <span class="relative inline-flex size-2 rounded-full bg-brand-primary-700"></span>
                    </span>
                    <span x-text="slide.badge"></span>
                  </div>
                </template>

                <!-- Title - only show if content exists -->
                <template x-if="slide.title">
                  <h1
                    class="heading-primary md:text-5xl text-3xl text-brand-light text-shadow-sm md:tracking-widest"
                    x-text="slide.title"
                  ></h1>
                </template>

                <!-- Text - only show if content exists -->
                <template x-if="slide.text">
                  <p
                    class="text-brand-light max-w-xl md:text-lg text-sm"
                    x-text="slide.text"
                  ></p>
                </template>

                <!-- CTAs - only show if at least one exists -->
                <template x-if="slide.cta1 || slide.cta2">
                  <div class="flex md:flex-row flex-col gap-3 mt-2">
                    <!-- CTA 1 -->
                    <template x-if="slide.cta1">
                      <a
                        :href="slide.cta1.href"
                        :class="slide.cta1.style === 'primary' ? 'button-primary-icon' : 'button-transparent'"
                        class="relative z-20"
                      >
                        <span class="button-text" :data-text="slide.cta1.label">
                          <span x-text="slide.cta1.label"></span>
                        </span>
                        <template x-if="slide.cta1.style === 'primary'">
                          <span>
                            <span class="icon-arrow"></span>
                          </span>
                        </template>
                      </a>
                    </template>

                    <!-- CTA 2 -->
                    <template x-if="slide.cta2">
                      <a
                        :href="slide.cta2.href"
                        :class="slide.cta2.style === 'primary' ? 'button-primary-icon' : 'button-transparent'"
                        class="relative z-20"
                      >
                        <span class="button-text" :data-text="slide.cta2.label">
                          <span x-text="slide.cta2.label"></span>
                        </span>
                        <template x-if="slide.cta2.style === 'primary'">
                          <span>
                            <span class="icon-arrow"></span>
                          </span>
                        </template>
                      </a>
                    </template>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </div>
      </template>
    </div>
  </div>

  <!-- Navigation Buttons - Centered Vertically -->
  <button
    x-ref="prev"
    class="absolute md:flex hidden cursor-pointer left-4 top-1/2 -translate-y-1/2 z-20 w-8 h-8 border border-brand-light items-center justify-center bg-brand-light/10 hover:bg-brand-light/20 backdrop-blur-sm rounded-full text-brand-light transition-colors"
  >
    <span class="icon icon-arrow w-3 h-3"></span>
  </button>
  <button
    x-ref="next"
    class="absolute md:flex hidden cursor-pointer right-4 top-1/2 -translate-y-1/2 z-20 w-8 h-8 border border-brand-light items-center justify-center bg-brand-light/10 hover:bg-brand-light/20 backdrop-blur-sm rounded-full text-brand-light transition-colors"
  >
    <span class="icon icon-arrow w-3 h-3 rotate-180"></span>
  </button>

  <!-- Pagination -->
  <div x-ref="pagination" class="swiper-pagination hero-pagination absolute! bottom-6! z-20"></div>
</div>
