<header x-data="navigationMenu()">
  <div class="bg-brand-primary-700 px-4 py-2 text-brand-light card-container">
    <p class="text-center text-sm">
      Lorem, ipsum dolor
      <a href="#" class="inline-block underline"> sit amet consectetur </a>
    </p>
  </div>
  <div class="border-b border-neutral-200/80 bg-brand-light card-container">
    <div class="container mx-auto flex justify-between items-center h-16 gap-8">
      <a class="block text-teal-600" href="#">
        <span class="sr-only">Home</span>
        <svg width="52" height="26" viewBox="0 0 52 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.22879 0.00554763C9.49664 0.00554763 11.7663 0.00554763 14.0342 0.00554763C14.3982 0.00554763 14.4528 0.0610239 14.4528 0.436414C14.4528 0.89132 14.4528 1.34438 14.4528 1.79928C14.4528 2.09516 14.3527 2.18577 14.0578 2.19686C13.8085 2.20611 13.5482 2.19501 13.3116 2.26159C12.9931 2.35035 12.7328 2.5667 12.6764 2.91436C12.6472 3.09928 12.68 3.33043 12.7692 3.49131C13.1095 4.1034 13.479 4.69885 13.8485 5.29429C15.3974 7.77778 16.95 10.2594 18.5007 12.7429C19.6983 14.6605 20.896 16.5782 22.0918 18.494C22.1318 18.5587 22.1573 18.6419 22.2137 18.6844C22.332 18.7769 22.454 18.8398 22.5723 18.6604C23.4587 17.3123 24.3487 15.9679 25.2424 14.6254C25.3843 14.4128 25.3279 14.2426 25.2023 14.0466C24.2049 12.4896 23.2166 10.9288 22.2246 9.36995C20.9251 7.32842 19.631 5.2832 18.3187 3.24906C18.0038 2.76272 17.607 2.3337 17.0028 2.2283C16.7479 2.18392 16.484 2.20056 16.2237 2.19686C15.8706 2.19132 15.7906 2.11735 15.7906 1.7697C15.7906 1.29815 15.7906 0.826597 15.7906 0.356898C15.7906 0.0943098 15.8761 0.00739684 16.1346 0.00739684C20.2334 0.00739684 24.3323 0.00739684 28.4312 0.00739684C28.6805 0.00739684 28.7734 0.105405 28.7734 0.362445C28.7734 0.84324 28.7752 1.32219 28.7734 1.80298C28.7734 2.09701 28.6714 2.18762 28.3766 2.19871C28.1181 2.20796 27.8488 2.19132 27.6049 2.25789C27.0679 2.40213 26.6693 2.91806 27.057 3.55233C27.5848 4.41592 28.1254 5.2721 28.6605 6.13013C28.8844 6.48703 29.1119 6.84208 29.334 7.20083C29.4978 7.46342 29.6325 7.47266 29.8017 7.21377C30.5571 6.05617 31.3161 4.90226 32.0587 3.73356C32.2115 3.49316 32.3899 3.23242 32.3025 2.91066C32.197 2.51863 31.7966 2.20796 31.3925 2.19686C31.165 2.18947 30.9375 2.19871 30.71 2.19316C30.4606 2.18762 30.3641 2.08591 30.3623 1.83442C30.3623 1.32034 30.366 0.806256 30.3623 0.292175C30.3605 0.0850637 30.4424 0.00184921 30.6481 0.00184921C33.3382 0.00554763 36.0283 0.00554763 38.7184 0.00184921C38.9514 0.00184921 39.0551 0.0998574 39.0515 0.338406C39.046 0.84324 39.0424 1.34992 39.0515 1.85476C39.057 2.08961 38.9295 2.17837 38.733 2.19132C38.54 2.20426 38.3435 2.21351 38.1505 2.19132C37.3679 2.1007 36.8383 2.49644 36.4251 3.10667C34.8289 5.45702 33.2399 7.81107 31.6419 10.1596C31.4962 10.3722 31.4671 10.5534 31.6164 10.7864C32.7121 12.5044 33.7987 14.2297 34.8871 15.9513C35.3257 16.6429 35.7644 17.3345 36.2067 18.0243C36.4051 18.3349 36.4943 18.3368 36.6781 18.0298C36.8255 17.7839 36.9602 17.5305 37.0912 17.2735C37.8466 15.7978 38.5965 14.3203 39.3518 12.8446C40.0689 11.4448 40.7933 10.0486 41.5123 8.65061C42.1238 7.46342 42.7336 6.27622 43.3433 5.08903C43.609 4.57125 43.8711 4.04977 44.1296 3.52829C44.4426 2.89586 44.1387 2.47424 43.68 2.25604C43.5854 2.21166 43.4707 2.19501 43.3633 2.19501C42.6717 2.18947 41.98 2.19501 41.2884 2.19132C40.9735 2.19132 40.8862 2.1007 40.8862 1.78449C40.8862 1.30369 40.8862 0.824748 40.8862 0.343953C40.8862 0.0721192 40.959 0 41.232 0C44.6975 0 48.1648 0 51.6321 0C51.8996 0 51.9961 0.0943098 51.9979 0.362445C52.0015 0.84324 51.9997 1.32219 51.9979 1.80113C51.9979 2.05262 51.8814 2.16728 51.6266 2.16912C50.995 2.17837 50.3616 2.19686 49.7301 2.18392C49.0785 2.16912 48.6271 2.48719 48.3267 3.03271C47.9063 3.79458 47.5113 4.57125 47.1109 5.34422C46.1936 7.11391 45.2799 8.88731 44.3644 10.6589C43.9913 11.38 43.6218 12.1031 43.2487 12.8243C42.1548 14.9435 41.0609 17.0645 39.9652 19.1837C39.3172 20.4375 38.6693 21.6912 38.0213 22.9432C37.5463 23.8604 37.0676 24.7739 36.5925 25.6911C36.487 25.8945 36.3505 26.0036 36.0993 25.9999C35.1219 25.9851 34.1427 25.9833 33.1653 25.9999C32.8923 26.0036 32.7285 25.8982 32.5883 25.6763C31.2305 23.5312 29.8672 21.388 28.504 19.2447C28.1964 18.7602 27.8924 18.2739 27.5812 17.7913C27.3428 17.4214 27.2445 17.4177 27.0206 17.7839C26.056 19.3612 25.0949 20.9405 24.1357 22.5215C23.5005 23.5663 22.8726 24.6167 22.2356 25.6597C22.1209 25.8483 21.9553 25.95 21.7132 25.9481C20.6593 25.937 19.6037 25.9389 18.5498 25.9463C18.3241 25.9463 18.1749 25.8668 18.0548 25.6726C16.9154 23.8456 15.7705 22.0223 14.6257 20.1989C13.3516 18.1703 12.0739 16.1455 10.8035 14.115C9.36559 11.8202 7.93863 9.51974 6.49893 7.22672C5.60889 5.81022 4.71158 4.39927 3.80335 2.99572C3.45207 2.45575 2.9661 2.15063 2.2872 2.17652C1.63197 2.20056 0.973089 2.15618 0.317851 2.14693C0.101259 2.14508 0.0102535 2.01379 0.00661324 1.82517C-0.000667173 1.32773 -0.00430738 0.822899 0.00843335 0.318064C0.0138937 0.0980082 0.141301 0.00184921 0.372454 0.00184921C2.65851 0.00739684 4.94274 0.00554763 7.22879 0.00554763Z" fill="#287271"/>
        </svg>
      </a>

      <nav class="relative z-10">
        <div class="relative">
          <ul class="flex flex-1 justify-center items-center p-1 space-x-1 list-none text-neutral-700 group">
            <template x-for="(item, index) in menuItems" :key="index">
              <li>
                <template x-if="item.dropdown">
                  <button
                    :class="{ 'bg-neutral-100' : navigationMenu === item.id, 'hover:bg-neutral-100' : navigationMenu !== item.id }" 
                    @mouseenter="openMenu(item.id)" 
                    @mouseleave="scheduleClose()" 
                    class="inline-flex justify-center items-center px-4 py-2 w-max h-10 text-xs font-medium uppercase rounded-full transition-colors hover:text-neutral-900 focus:outline-none disabled:opacity-50 disabled:pointer-events-none group">
                    <span x-text="item.label"></span> 
                    <svg :class="{ '-rotate-180' : navigationMenuOpen && navigationMenu === item.id }" 
                        class="relative top-px ml-1 h-3 w-3 ease-out duration-300" 
                        xmlns="http://www.w3.org/2000/svg" 
                        viewBox="0 0 24 24" 
                        fill="none" 
                        stroke="currentColor" 
                        stroke-width="2" 
                        stroke-linecap="round" 
                        stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </button>
                </template>
                <template x-if="!item.dropdown">
                  <a :href="item.url" 
                    class="inline-flex justify-center items-center px-4 py-2 w-max h-10 text-xs font-medium uppercase rounded-full transition-colors hover:text-neutral-900 focus:outline-none disabled:opacity-50 disabled:pointer-events-none bg-background hover:bg-neutral-100 group">
                    <span x-text="item.label"></span>
                  </a>
                </template>
              </li>
            </template>
          </ul>
        </div>
      </nav>

      <div class="flex items-center gap-4">
        <div class="sm:flex sm:gap-2">
          <a class="bg-brand-primary inline-flex justify-center items-center px-4 py-2 w-max h-10 text-xs font-medium uppercase rounded-full text-white transition hover:bg-teal-700" href="#">
            Login
          </a>

          <a class="bg-gray-100 inline-flex justify-center items-center px-4 py-2 w-max h-10 text-xs font-medium uppercase rounded-full text-brand-primary-700 transition hover:text-teal-600/75" href="#">
            Register
          </a>
        </div>

        <button class="block rounded-sm bg-gray-100 p-2.5 text-gray-600 transition hover:text-gray-600/75 md:hidden">
          <span class="sr-only">Toggle menu</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Fixed full-width dropdown container -->
  <div x-show="navigationMenuOpen"
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0 -translate-y-2"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 -translate-y-2"
      @mouseenter="cancelClose()" 
      @mouseleave="scheduleClose()"
      class="absolute container mx-auto left-0 right-0 mt-0 w-full bg-brand-light card-container shadow-md"
      x-cloak>

      <div class="w-full">
          <div class="max-w-5xl mx-auto overflow-hidden">
              
              <!-- Dynamic dropdown content -->
              <template x-for="(dropdown, dropdownId) in dropdownContent" :key="dropdownId">
                  <div x-show="navigationMenu === dropdownId" class="p-8">
                      <div class="grid grid-cols-4 gap-8">
                          <template x-for="(column, index) in dropdown.columns" :key="index">
                              <div>
                                  <!-- Links Column -->
                                  <template x-if="column.type === 'links'">
                                      <div>
                                          <h3 class="text-sm font-semibold text-neutral-900 mb-4" x-text="column.title"></h3>
                                          <ul class="space-y-3">
                                              <template x-for="link in column.links" :key="link.title">
                                                  <li>
                                                      <a :href="link.url" 
                                                          @click="closeMenu()"
                                                          class="group block">
                                                          <span class="block text-xs font-medium uppercase text-neutral-900 group-hover:text-blue-500" x-text="link.title"></span>
                                                          <span class="block text-xs text-neutral-500 mt-1" x-text="link.description"></span>
                                                      </a>
                                                  </li>
                                              </template>
                                          </ul>
                                      </div>
                                  </template>

                                  <!-- Banner Column -->
                                  <template x-if="column.type === 'banner'">
                                      <div class="relative h-full">
                                          <div class="rounded-lg overflow-hidden h-full bg-gradient-to-br p-6 flex flex-col justify-between min-h-[240px]"
                                                :style="`background: linear-gradient(to bottom right, ${column.gradientFrom}, ${column.gradientTo})`">
                                              <div>
                                                  <h3 class="text-lg font-bold text-white mb-2" x-text="column.title"></h3>
                                                  <p class="text-sm text-white/90 mb-4" x-text="column.description"></p>
                                              </div>
                                              <div>
                                                  <a :href="column.cta.url" 
                                                      @click="closeMenu()"
                                                      :class="column.cta.classes"
                                                      class="inline-flex items-center px-4 py-2 rounded-full text-xs font-medium uppercase transition-colors">
                                                      <span x-text="column.cta.text"></span>
                                                      <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                      </svg>
                                                  </a>
                                              </div>
                                          </div>
                                      </div>
                                  </template>
                              </div>
                          </template>
                      </div>
                  </div>
              </template>

          </div>
      </div>
  </div>
</header>

<script>
    function navigationMenu() {
        return {
            navigationMenuOpen: false,
            navigationMenu: '',
            navigationMenuCloseTimeout: null,
            navigationMenuCloseDelay: 200,

            menuItems: [
                {
                    id: 'getting-started',
                    label: 'Getting Started',
                    dropdown: true
                },
                {
                    id: 'learn-more',
                    label: 'Learn More',
                    dropdown: true
                },
                {
                    id: 'documentation',
                    label: 'Documentation',
                    url: '#documentation',
                    dropdown: false
                },
                {
                    id: 'learn-more',
                    label: 'Learn More',
                    dropdown: false
                },
            ],

            dropdownContent: {
                'getting-started': {
                    columns: [
                        {
                            type: 'links',
                            title: 'Quick Start',
                            links: [
                                {
                                    title: 'Introduction',
                                    description: 'Learn the basics and get up to speed quickly',
                                    url: '#introduction'
                                },
                                {
                                    title: 'Installation',
                                    description: 'Set up your development environment',
                                    url: '#installation'
                                },
                                {
                                    title: 'First Project',
                                    description: 'Build your first project step by step',
                                    url: '#first-project'
                                }
                            ]
                        },
                        {
                            type: 'links',
                            title: 'Resources',
                            links: [
                                {
                                    title: 'Components',
                                    description: 'Browse our collection of UI components',
                                    url: '#components'
                                },
                                {
                                    title: 'Templates',
                                    description: 'Pre-built templates to jumpstart your project',
                                    url: '#templates'
                                },
                                {
                                    title: 'Examples',
                                    description: 'Real-world examples and use cases',
                                    url: '#examples'
                                }
                            ]
                        },
                        {
                            type: 'links',
                            title: 'Help & Support',
                            links: [
                                {
                                    title: 'Documentation',
                                    description: 'Comprehensive guides and API reference',
                                    url: '#docs'
                                },
                                {
                                    title: 'Community',
                                    description: 'Join our community forum',
                                    url: '#community'
                                },
                                {
                                    title: 'FAQ',
                                    description: 'Frequently asked questions',
                                    url: '#faq'
                                }
                            ]
                        },
                        {
                            type: 'banner',
                            title: 'Ready to Build?',
                            description: 'Start creating amazing projects with our comprehensive toolkit and resources.',
                            gradientFrom: '#379190',
                            gradientTo: '#287271',
                            cta: {
                                text: 'Get Started Free',
                                url: '#signup',
                                classes: 'bg-white text-brand-primary hover:text-blue-500 hover:bg-blue-50'
                            }
                        }
                    ]
                },
                'learn-more': {
                    columns: [
                        {
                            type: 'links',
                            title: 'Frameworks',
                            links: [
                                {
                                    title: 'Tailwind CSS',
                                    description: 'Utility-first CSS framework',
                                    url: '#tailwind'
                                },
                                {
                                    title: 'Alpine.js',
                                    description: 'Lightweight JavaScript framework',
                                    url: '#alpine'
                                },
                                {
                                    title: 'Laravel',
                                    description: 'PHP framework for web artisans',
                                    url: '#laravel'
                                }
                            ]
                        },
                        {
                            type: 'links',
                            title: 'Tools',
                            links: [
                                {
                                    title: 'Livewire',
                                    description: 'Full-stack framework for Laravel',
                                    url: '#livewire'
                                },
                                {
                                    title: 'Vite',
                                    description: 'Next generation frontend tooling',
                                    url: '#vite'
                                },
                                {
                                    title: 'Tails',
                                    description: 'Tailwind CSS design tool',
                                    url: '#tails'
                                }
                            ]
                        },
                        {
                            type: 'links',
                            title: 'Learning',
                            links: [
                                {
                                    title: 'Video Tutorials',
                                    description: 'Step-by-step video guides',
                                    url: '#videos'
                                },
                                {
                                    title: 'Blog',
                                    description: 'Latest news and articles',
                                    url: '#blog'
                                },
                                {
                                    title: 'Courses',
                                    description: 'In-depth courses and workshops',
                                    url: '#courses'
                                }
                            ]
                        },
                        {
                            type: 'banner',
                            title: 'Expert Training',
                            description: 'Take your skills to the next level with our advanced courses and certifications.',
                            gradientFrom: '#059669',
                            gradientTo: '#0f766e',
                            cta: {
                                text: 'Browse Courses',
                                url: '#courses',
                                classes: 'bg-white text-emerald-600 hover:bg-emerald-50'
                            }
                        }
                    ]
                }
            },

            openMenu(menuId) {
                this.cancelClose();
                this.navigationMenuOpen = true;
                this.navigationMenu = menuId;
            },

            scheduleClose() {
                this.navigationMenuCloseTimeout = setTimeout(() => {
                    this.closeMenu();
                }, this.navigationMenuCloseDelay);
            },

            cancelClose() {
                if (this.navigationMenuCloseTimeout) {
                    clearTimeout(this.navigationMenuCloseTimeout);
                    this.navigationMenuCloseTimeout = null;
                }
            },

            closeMenu() {
                this.navigationMenuOpen = false;
                this.navigationMenu = '';
            }
        }
    }
</script>